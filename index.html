<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>FNA Geo map tool</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.12/proj4.js"></script>
    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/maps/modules/data.js"></script>
    <script src="https://code.highcharts.com/maps/modules/draggable-points.js"></script>
    <!--    <script src="https://code.highcharts.com/mapdata/custom/world.js"></script>-->
    <!--    <script src="https://code.highcharts.com/mapdata/countries/us/us-all.js"></script>-->
    <script src="https://code.highcharts.com/mapdata/index.js"></script>
    <script src="js/libs/FileSaver.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/main.css" />
  </head>

  <body>
    <div class="container">
      <div id="select-container">
        <select class="form-control" id="maps-list"></select>
      </div>

      <div class="map-container">
        <div id="map"></div>
      </div>

      <div class="content-container">
        <nav>
          <div class="nav nav-tabs" role="tablist">
            <a
              class="nav-link active"
              data-toggle="tab"
              href="#nav-start"
              role="tab"
              >Start</a
            >
            <a
              class="nav-link"
              data-toggle="tab"
              href="#nav-locations"
              role="tab"
              >Locations</a
            >
            <a class="nav-link" data-toggle="tab" href="#nav-points" role="tab"
              >Points</a
            >
            <a class="nav-link" data-toggle="tab" href="#nav-script" role="tab"
              >Script</a
            >
            <a class="nav-link" data-toggle="tab" href="#nav-finish" role="tab"
              >Finish</a
            >

            <button type="button" class="btn btn-primary" id="show-points">
              Show Points
            </button>
          </div>
        </nav>

        <div class="tab-content">
          <div class="tab-pane fade show active" role="tabpanel" id="nav-start">
            <div>
              <b>This tool allows to build custom maps for FNA Platform:</b>
              <ol>
                <li>Preview map</li>
                <li>Show lat/lon coordinates on map</li>
                <li>
                  Convert lat/lon coordinates to points to use on FNA Platform
                </li>
                <li>Export map, points and script</li>
              </ol>

              <b>Get started:</b>
              <ol>
                <li>Select a Map in the list at the top</li>
                <li>Put lat/lon location on "Locations" tab, see <a href="https://github.com/valekask/valekask.github.io/tree/main/maps/examples">examples</a></li>
                <li>Click "Show Points" button to add points to the map</li>
                <li>
                  Open "Points" tab to see locations converted to the FNA data
                  format
                </li>
                <li>Open "Script" tab to see FNA script template</li>
                <li>Download data on "Finish" tab</li>
              </ol>
            </div>
          </div>

          <div class="tab-pane fade" role="tabpanel" id="nav-locations">
            <textarea id="locations-textarea"></textarea>
          </div>

          <div class="tab-pane" role="tabpanel" id="nav-points">
            <textarea
              id="points-textarea"
              placeholder="Points will be here after clicking on 'Show points' button..."
              readonly
            ></textarea>
          </div>

          <div class="tab-pane" role="tabpanel" id="nav-script">
            <textarea id="script-textarea" readonly></textarea>
          </div>

          <div class="tab-pane" role="tabpanel" id="nav-finish">
            <b>What's next?</b>
            <ol>
              <li>
                <b>Download map file</b><br />
                <button type="button" class="btn btn-info" id="map-download">
                  Download map (.csv)
                </button>
              </li>
              <li>
                <b>Download points file</b><br />
                <button type="button" class="btn btn-info" id="points-download">
                  Download points (.csv)
                </button>
              </li>
              <li>
                <b>Download FNA Script</b><br />
                <button type="button" class="btn btn-info" id="script-download">
                  Download script
                </button>
              </li>
              <li>
                <b>Create FNA Dashboard</b>
                <ul>
                  <li>Upload map, points and script files to FNA Editor</li>
                  <li>Run script</li>
                  <li>Open dashboard to see result</li>
                </ul>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/papaparse@5.3.0/papaparse.min.js"></script>
    <script src="js/map.js"></script>
    <script src="js/map-list.js"></script>
    <script src="js/svg.utils.js"></script>
    <script src="js/map-locations.js"></script>
    <script src="js/map-parser.js"></script>
    <script src="js/map.utils.js"></script>
    <script src="js/script-example.js"></script>
    <script src="js/data-download.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
